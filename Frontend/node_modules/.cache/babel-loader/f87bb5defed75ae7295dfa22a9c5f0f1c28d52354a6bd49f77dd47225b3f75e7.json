{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projectqldc\\\\Frontend\\\\src\\\\DeleteCitizen.js\",\n  _s = $RefreshSig$();\n// src/DeleteCitizen.js\nimport React, { useState } from 'react';\nimport { apiGet, apiDelete } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DeleteCitizen() {\n  _s();\n  const [cccd, setCccd] = useState('');\n  const [preview, setPreview] = useState(null);\n  const [msg, setMsg] = useState('');\n  const [err, setErr] = useState('');\n  const loadPreview = async () => {\n    setMsg('');\n    setErr('');\n    setPreview(null);\n    if (!cccd) return;\n    try {\n      const data = await apiGet(`/api/citizens/${cccd}`);\n      setPreview(data);\n    } catch (e) {\n      setErr(e.message);\n    }\n  };\n  const handleDelete = async () => {\n    if (!cccd) return;\n    const ok = window.confirm(`Xóa công dân CCCD ${cccd}? Hành động không thể hoàn tác.`);\n    if (!ok) return;\n    try {\n      setMsg('');\n      setErr('');\n      const res = await apiDelete(`/api/citizens/${cccd}`);\n      setMsg(res.message || 'Đã xóa công dân.');\n      setPreview(null);\n      setCccd('');\n    } catch (e) {\n      setErr(e.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Nh\\u1EADp CCCD \\u0111\\u1EC3 x\\xF3a\",\n        value: cccd,\n        onChange: e => setCccd(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadPreview,\n        children: \"Xem th\\xF4ng tin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        style: {\n          background: '#c62828',\n          color: '#fff'\n        },\n        children: \"X\\xF3a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'green'\n      },\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12,\n        border: '1px solid #ddd',\n        padding: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Th\\xF4ng tin s\\u1EBD b\\u1ECB x\\xF3a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"H\\u1ECD t\\xEAn:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 14\n        }, this), \" \", preview.FullName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"CCCD:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 14\n        }, this), \" \", preview.NationalID]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Ng\\xE0y sinh:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 14\n        }, this), \" \", preview.DateOfBirth ? String(preview.DateOfBirth).substring(0, 10) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Gi\\u1EDBi t\\xEDnh:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 14\n        }, this), \" \", preview.Gender]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"\\u0110\\u1ECBa ch\\u1EC9 h\\u1ED9:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }, this), \" \", preview.HouseholdAddress]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Khu v\\u1EF1c:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 14\n        }, this), \" \", preview.AreaType, \" \", preview.AreaName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Ch\\u1EE7 h\\u1ED9:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 14\n        }, this), \" \", preview.IsHeadOfHousehold ? 'Có' : 'Không']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Tr\\u1EA1ng th\\xE1i hi\\u1EC7u l\\u1EF1c:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 14\n        }, this), \" \", preview.AllActiveStatuses || 'Không']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(DeleteCitizen, \"qu+IUskU79b8MveJjUhaXF69Nrc=\");\n_c = DeleteCitizen;\nvar _c;\n$RefreshReg$(_c, \"DeleteCitizen\");","map":{"version":3,"names":["React","useState","apiGet","apiDelete","jsxDEV","_jsxDEV","DeleteCitizen","_s","cccd","setCccd","preview","setPreview","msg","setMsg","err","setErr","loadPreview","data","e","message","handleDelete","ok","window","confirm","res","children","style","display","gap","alignItems","placeholder","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","background","color","marginTop","border","padding","FullName","NationalID","DateOfBirth","String","substring","Gender","HouseholdAddress","AreaType","AreaName","IsHeadOfHousehold","AllActiveStatuses","_c","$RefreshReg$"],"sources":["C:/Projectqldc/Frontend/src/DeleteCitizen.js"],"sourcesContent":["// src/DeleteCitizen.js\r\nimport React, { useState } from 'react';\r\nimport { apiGet, apiDelete } from './api';\r\n\r\nexport default function DeleteCitizen() {\r\n  const [cccd, setCccd] = useState('');\r\n  const [preview, setPreview] = useState(null);\r\n  const [msg, setMsg] = useState('');\r\n  const [err, setErr] = useState('');\r\n\r\n  const loadPreview = async () => {\r\n    setMsg(''); setErr(''); setPreview(null);\r\n    if (!cccd) return;\r\n    try {\r\n      const data = await apiGet(`/api/citizens/${cccd}`);\r\n      setPreview(data);\r\n    } catch (e) {\r\n      setErr(e.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!cccd) return;\r\n    const ok = window.confirm(`Xóa công dân CCCD ${cccd}? Hành động không thể hoàn tác.`);\r\n    if (!ok) return;\r\n    try {\r\n      setMsg(''); setErr('');\r\n      const res = await apiDelete(`/api/citizens/${cccd}`);\r\n      setMsg(res.message || 'Đã xóa công dân.');\r\n      setPreview(null);\r\n      setCccd('');\r\n    } catch (e) {\r\n      setErr(e.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display:'flex', gap:8, alignItems:'center' }}>\r\n        <input\r\n          placeholder=\"Nhập CCCD để xóa\"\r\n          value={cccd}\r\n          onChange={(e)=>setCccd(e.target.value)}\r\n        />\r\n        <button onClick={loadPreview}>Xem thông tin</button>\r\n        <button onClick={handleDelete} style={{ background:'#c62828', color:'#fff' }}>Xóa</button>\r\n      </div>\r\n\r\n      {err && <p style={{ color:'red' }}>{err}</p>}\r\n      {msg && <p style={{ color:'green' }}>{msg}</p>}\r\n\r\n      {preview && (\r\n        <div style={{ marginTop:12, border:'1px solid #ddd', padding:12 }}>\r\n          <h4>Thông tin sẽ bị xóa</h4>\r\n          <p><b>Họ tên:</b> {preview.FullName}</p>\r\n          <p><b>CCCD:</b> {preview.NationalID}</p>\r\n          <p><b>Ngày sinh:</b> {preview.DateOfBirth ? String(preview.DateOfBirth).substring(0,10) : ''}</p>\r\n          <p><b>Giới tính:</b> {preview.Gender}</p>\r\n          <p><b>Địa chỉ hộ:</b> {preview.HouseholdAddress}</p>\r\n          <p><b>Khu vực:</b> {preview.AreaType} {preview.AreaName}</p>\r\n          <p><b>Chủ hộ:</b> {preview.IsHeadOfHousehold ? 'Có' : 'Không'}</p>\r\n          <p><b>Trạng thái hiệu lực:</b> {preview.AllActiveStatuses || 'Không'}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}